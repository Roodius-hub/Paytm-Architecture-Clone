
generator client {
  provider = "prisma-client-js"
  // output = "./../generated/client" 
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id                    Int       @id @default(autoincrement())
  email                 String?   @unique
  name                  String?
  number                String    @unique
  password              String
  onRampTransaction     OnRampTransaction[]
  balance               Balance[]
}

model Merchant {
  id                      Int @id @default(autoincrement())
  email                 String @unique
  name                  String?
  auth_type             authType
}

model OnRampTransaction {
  id                     Int @id  @default(autoincrement())
  status                 onRampStatus
  token                  String @unique
  provider               String
  amount                 Int
  startTime              DateTime
  userId                 Int       
  user                   User     @relation(fields:[userId], references:[id])
}

model Balance {
  id                    Int      @id @default(autoincrement())
  userId                Int      @unique
  amount                Int
  locked                Int
  user                  User     @relation(fields:[userId], references:[id])
}

enum authType {
  Google
  Github
}


enum onRampStatus {
  success
  Failed
  Processing
}